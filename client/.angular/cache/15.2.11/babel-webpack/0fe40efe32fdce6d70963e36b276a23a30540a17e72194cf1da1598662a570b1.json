{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/employee.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./employee-form/employee-form.component\";\nfunction EmployeesComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 7);\n    i0.ɵɵlistener(\"click\", function EmployeesComponent_tr_18_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const emp_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.populateForm(emp_r1));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 7);\n    i0.ɵɵlistener(\"click\", function EmployeesComponent_tr_18_Template_td_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const emp_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.populateForm(emp_r1));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 7);\n    i0.ɵɵlistener(\"click\", function EmployeesComponent_tr_18_Template_td_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const emp_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.populateForm(emp_r1));\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"i\", 8);\n    i0.ɵɵlistener(\"click\", function EmployeesComponent_tr_18_Template_i_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const emp_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onDelete(emp_r1._id));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const emp_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(emp_r1.fullName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(emp_r1.position);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(emp_r1.salary);\n  }\n}\nexport class EmployeesComponent {\n  constructor(employeeService, toastr) {\n    this.employeeService = employeeService;\n    this.toastr = toastr;\n  }\n  ngOnInit() {\n    this.employeeService.getEmployee();\n  }\n  populateForm(selectedRecord) {\n    this.employeeService.employeeForm.patchValue({\n      _id: selectedRecord._id,\n      fullName: selectedRecord.fullName,\n      position: selectedRecord.position,\n      location: selectedRecord.location,\n      salary: selectedRecord.salary\n    });\n  }\n  onDelete(_id) {\n    if (!_id) return; // ✅ prevent undefined from passing to delete method\n    if (confirm('Are you sure to delete this record ?')) {\n      this.employeeService.deleteEmployee(_id).subscribe(res => {\n        this.employeeService.getEmployee();\n        this.toastr.error('Deleted successfully', 'Employee Deleted');\n      });\n    }\n  }\n  static {\n    this.ɵfac = function EmployeesComponent_Factory(t) {\n      return new (t || EmployeesComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService), i0.ɵɵdirectiveInject(i2.ToastrService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EmployeesComponent,\n      selectors: [[\"app-employees\"]],\n      decls: 19,\n      vars: 1,\n      consts: [[1, \"bg-dark\", \"text-white\", \"text-center\", \"rounded-bottom\", \"py-4\"], [1, \"display-4\"], [1, \"p-4\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [1, \"far\", \"fa-trash-alt\", \"fa-lg\", \"text-secondary\", 3, \"click\"]],\n      template: function EmployeesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n          i0.ɵɵtext(2, \" Employee Book \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4);\n          i0.ɵɵelement(6, \"app-employee-form\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"div\", 4)(8, \"table\", 5)(9, \"thead\")(10, \"tr\")(11, \"th\");\n          i0.ɵɵtext(12, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"th\");\n          i0.ɵɵtext(14, \"Position\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"th\");\n          i0.ɵɵtext(16, \"Salary\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(17, \"tbody\");\n          i0.ɵɵtemplate(18, EmployeesComponent_tr_18_Template, 9, 3, \"tr\", 6);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"ngForOf\", ctx.employeeService.list);\n        }\n      },\n      dependencies: [i3.NgForOf, i4.EmployeeFormComponent],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;;;IAoBoBA,0BAA6C;IACrCA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAiB;IAAA,EAAC;IAACA,YAAgB;IAAAA,iBAAK;IACrDA,6BAAgC;IAA5BA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAiB;IAAA,EAAC;IAACA,YAAgB;IAAAA,iBAAK;IACrDA,6BAAgC;IAA5BA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAiB;IAAA,EAAC;IAACA,YAAc;IAAAA,iBAAK;IACnDA,0BAAI;IACiDA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAiB;IAAA,EAAC;IAACA,iBAAI;;;;IAJrDA,eAAgB;IAAhBA,qCAAgB;IAChBA,eAAgB;IAAhBA,qCAAgB;IAChBA,eAAc;IAAdA,mCAAc;;;ACbtE,OAAM,MAAOC,kBAAkB;EAC7BC,YAAmBC,eAAgC,EAAUC,MAAqB;IAA/D,oBAAe,GAAfD,eAAe;IAA2B,WAAM,GAANC,MAAM;EAAkB;EAErFC,QAAQ;IACN,IAAI,CAACF,eAAe,CAACG,WAAW,EAAE;EACpC;EAEAC,YAAY,CAACC,cAAwB;IACnC,IAAI,CAACL,eAAe,CAACM,YAAY,CAACC,UAAU,CAAC;MAC3CC,GAAG,EAAEH,cAAc,CAACG,GAAG;MACvBC,QAAQ,EAAEJ,cAAc,CAACI,QAAQ;MACjCC,QAAQ,EAAEL,cAAc,CAACK,QAAQ;MACjCC,QAAQ,EAAEN,cAAc,CAACM,QAAQ;MACjCC,MAAM,EAAEP,cAAc,CAACO;KACxB,CAAC;EACJ;EAEAC,QAAQ,CAACL,GAAuB;IAC9B,IAAI,CAACA,GAAG,EAAE,OAAO,CAAC;IAElB,IAAGM,OAAO,CAAC,sCAAsC,CAAC,EAAC;MACjD,IAAI,CAACd,eAAe,CAACe,cAAc,CAACP,GAAG,CAAC,CAACQ,SAAS,CAACC,GAAG,IAAE;QACtD,IAAI,CAACjB,eAAe,CAACG,WAAW,EAAE;QAClC,IAAI,CAACF,MAAM,CAACiB,KAAK,CAAC,sBAAsB,EAAE,kBAAkB,CAAC;MAC/D,CAAC,CAAC;;EAER;;;uBA1BapB,kBAAkB;IAAA;EAAA;;;YAAlBA,kBAAkB;MAAAqB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDV/B1B,8BAAgE;UAExDA,+BACJ;UAAAA,iBAAK;UAETA,8BAAiB;UAGLA,oCAAuC;UAC3CA,iBAAM;UACLA,8BAAsB;UAIHA,qBAAI;UAAAA,iBAAK;UACbA,2BAAI;UAAAA,yBAAQ;UAAAA,iBAAK;UACjBA,2BAAI;UAAAA,uBAAM;UAAAA,iBAAK;UAGvBA,8BAAO;UACHA,mEAOK;UACTA,iBAAQ;;;UARgBA,gBAAuB;UAAvBA,kDAAuB","names":["i0","EmployeesComponent","constructor","employeeService","toastr","ngOnInit","getEmployee","populateForm","selectedRecord","employeeForm","patchValue","_id","fullName","position","location","salary","onDelete","confirm","deleteEmployee","subscribe","res","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Soham\\Desktop\\Angular-React Projects\\client\\src\\app\\employees\\employees.component.html","C:\\Users\\Soham\\Desktop\\Angular-React Projects\\client\\src\\app\\employees\\employees.component.ts"],"sourcesContent":["<div class=\"bg-dark text-white text-center rounded-bottom py-4\">\n    <h1 class=\"display-4\">\n        Employee Book\n    </h1>\n</div>\n<div class=\"p-4\">\n    <div class=\"row\">\n        <div class=\"col-md-6\">\n            <app-employee-form></app-employee-form>\n        </div>\n         <div class=\"col-md-6\">\n            <table class=\"table\">\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Position</th>\n                        <th>Salary</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor=\"let emp of employeeService.list\">\n                        <td (click)=\"populateForm(emp)\">{{emp.fullName}}</td>\n                        <td (click)=\"populateForm(emp)\">{{emp.position}}</td>\n                        <td (click)=\"populateForm(emp)\">{{emp.salary}}</td>\n                        <td>\n                            <i class=\"far fa-trash-alt fa-lg text-secondary\" (click)=\"onDelete(emp._id)\"></i>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { EmployeeService } from '../shared/employee.service';\nimport { Employee } from '../shared/employee.model';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-employees',\n  templateUrl: './employees.component.html',\n  styleUrls: ['./employees.component.css']\n})\nexport class EmployeesComponent implements OnInit {\n  constructor(public employeeService: EmployeeService, private toastr: ToastrService) {}\n\n  ngOnInit():void {\n    this.employeeService.getEmployee();\n  }\n\n  populateForm(selectedRecord: Employee){\n    this.employeeService.employeeForm.patchValue({\n      _id: selectedRecord._id,\n      fullName: selectedRecord.fullName,\n      position: selectedRecord.position,\n      location: selectedRecord.location,\n      salary: selectedRecord.salary\n    })\n  }\n\n  onDelete(_id: string | undefined){\n    if (!_id) return; // ✅ prevent undefined from passing to delete method\n\n    if(confirm('Are you sure to delete this record ?')){\n      this.employeeService.deleteEmployee(_id).subscribe(res=>{\n        this.employeeService.getEmployee();\n        this.toastr.error('Deleted successfully', 'Employee Deleted');\n      })\n  }\n}\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}