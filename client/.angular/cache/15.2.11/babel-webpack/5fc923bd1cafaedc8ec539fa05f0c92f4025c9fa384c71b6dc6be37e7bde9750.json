{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { catchError, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nexport class EmployeeService {\n  constructor(fb, http) {\n    this.fb = fb;\n    this.http = http;\n    this.baseURL = 'http://localhost:8080/api/employees/';\n    this.list = [];\n    this.employeeForm = this.fb.group({\n      _id: [null],\n      fullName: ['', Validators.required],\n      position: ['', Validators.required],\n      location: ['', Validators.required],\n      salary: ['', Validators.required]\n    });\n  }\n  getEmployee() {\n    this.http.get(this.baseURL).pipe(catchError(this.errorhandler)).subscribe(data => {\n      this.list = data;\n      console.log('Data is fetched from MongoDB');\n      console.log(data);\n    });\n  }\n  postEmployee() {\n    return this.http.post(this.baseURL, this.employeeForm.value).pipe(catchError(this.errorhandler));\n  }\n  putEmployee() {\n    return this.http.put(this.baseURL + this.employeeForm.get('_id')?.value, this.employeeForm.value).pipe(catchError(this.errorhandler));\n  }\n  deleteEmployee(_id) {\n    return this.http.delete(this.baseURL + _id).pipe(catchError(this.errorhandler));\n  }\n  errorhandler(error) {\n    if (error.status === 0) {\n      console.error('An error occurred:', error.error);\n    } else {\n      console.error(`Backend returned code ${error.status}, body was: `, error.error);\n    }\n    return throwError(() => new Error('Something bad happened; please try again later.'));\n  }\n  static {\n    this.ɵfac = function EmployeeService_Factory(t) {\n      return new (t || EmployeeService)(i0.ɵɵinject(i1.FormBuilder), i0.ɵɵinject(i2.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: EmployeeService,\n      factory: EmployeeService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"mappings":"AAEA,SAAiCA,UAAU,QAAQ,gBAAgB;AACnE,SAASC,UAAU,EAAEC,UAAU,QAAQ,MAAM;;;;AAM7C,OAAM,MAAOC,eAAe;EAE1BC,YAAoBC,EAAe,EAAUC,IAAgB;IAAzC,OAAE,GAAFD,EAAE;IAAuB,SAAI,GAAJC,IAAI;IAExC,YAAO,GAAG,sCAAsC;IACzD,SAAI,GAAe,EAAE;IAErB,iBAAY,GAAG,IAAI,CAACD,EAAE,CAACE,KAAK,CAAC;MAC3BC,GAAG,EAAE,CAAC,IAAqB,CAAC;MAC5BC,QAAQ,EAAE,CAAC,EAAE,EAAET,UAAU,CAACU,QAAQ,CAAC;MACnCC,QAAQ,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACU,QAAQ,CAAC;MACnCE,QAAQ,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACU,QAAQ,CAAC;MACnCG,MAAM,EAAE,CAAC,EAAE,EAAEb,UAAU,CAACU,QAAQ;KACjC,CAAC;EAX+D;EAajEI,WAAW;IACT,IAAI,CAACR,IAAI,CAACS,GAAG,CAAC,IAAI,CAACC,OAAO,CAAC,CACxBC,IAAI,CAAChB,UAAU,CAAC,IAAI,CAACiB,YAAY,CAAC,CAAC,CACnCC,SAAS,CACRC,IAAI,IAAG;MACP,IAAI,CAACC,IAAI,GAAGD,IAAkB;MAC9BE,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;MAC3CD,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;IACrB,CAAC,CAAC;EACN;EAEAI,YAAY;IACV,OAAO,IAAI,CAAClB,IAAI,CAACmB,IAAI,CAAC,IAAI,CAACT,OAAO,EAAE,IAAI,CAACU,YAAY,CAACC,KAAK,CAAC,CACzDV,IAAI,CAAChB,UAAU,CAAC,IAAI,CAACiB,YAAY,CAAC,CAAC;EACxC;EAEAU,WAAW;IACT,OAAO,IAAI,CAACtB,IAAI,CAACuB,GAAG,CAAC,IAAI,CAACb,OAAO,GAAC,IAAI,CAACU,YAAY,CAACX,GAAG,CAAC,KAAK,CAAC,EAAEY,KAAK,EAAE,IAAI,CAACD,YAAY,CAACC,KAAK,CAAC,CAC5FV,IAAI,CAAChB,UAAU,CAAC,IAAI,CAACiB,YAAY,CAAC,CAAC;EACxC;EAEAY,cAAc,CAACtB,GAAW;IACxB,OAAO,IAAI,CAACF,IAAI,CAACyB,MAAM,CAAC,IAAI,CAACf,OAAO,GAAGR,GAAG,CAAC,CACxCS,IAAI,CAAChB,UAAU,CAAC,IAAI,CAACiB,YAAY,CAAC,CAAC;EACxC;EAEUA,YAAY,CAACc,KAAyB;IAC9C,IAAIA,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;MACtBX,OAAO,CAACU,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAACA,KAAK,CAAC;KACjD,MAAM;MACLV,OAAO,CAACU,KAAK,CACX,yBAAyBA,KAAK,CAACC,MAAM,cAAc,EAAED,KAAK,CAACA,KAAK,CAAC;;IAErE,OAAO9B,UAAU,CAAC,MAAM,IAAIgC,KAAK,CAAC,iDAAiD,CAAC,CAAC;EACvF;;;uBAjDa/B,eAAe;IAAA;EAAA;;;aAAfA,eAAe;MAAAgC,SAAfhC,eAAe;MAAAiC,YAFd;IAAM;EAAA","names":["Validators","catchError","throwError","EmployeeService","constructor","fb","http","group","_id","fullName","required","position","location","salary","getEmployee","get","baseURL","pipe","errorhandler","subscribe","data","list","console","log","postEmployee","post","employeeForm","value","putEmployee","put","deleteEmployee","delete","error","status","Error","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Soham\\Desktop\\Angular-React Projects\\client\\src\\app\\shared\\employee.service.ts"],"sourcesContent":["import { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { catchError, throwError } from 'rxjs';\nimport { Employee } from './employee.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EmployeeService {\n\n  constructor(private fb: FormBuilder, private http: HttpClient) { }\n\n  readonly baseURL = 'http://localhost:8080/api/employees/';\n  list: Employee[] = [];\n\n  employeeForm = this.fb.group({\n    _id: [null as string | null],\n    fullName: ['', Validators.required],\n    position: ['', Validators.required],\n    location: ['', Validators.required],\n    salary: ['', Validators.required]\n  })\n\n  getEmployee() {\n    this.http.get(this.baseURL)\n      .pipe(catchError(this.errorhandler))\n      .subscribe(\n        data => {\n        this.list = data as Employee[];\n        console.log('Data is fetched from MongoDB');\n        console.log(data);\n    })\n}\n\npostEmployee(){\n  return this.http.post(this.baseURL, this.employeeForm.value)\n    .pipe(catchError(this.errorhandler));\n}\n\nputEmployee(){\n  return this.http.put(this.baseURL+this.employeeForm.get('_id')?.value, this.employeeForm.value)\n    .pipe(catchError(this.errorhandler));\n}\n\ndeleteEmployee(_id: string){\n  return this.http.delete(this.baseURL + _id)\n    .pipe(catchError(this.errorhandler));\n}\n\n  private errorhandler(error : HttpErrorResponse){\n  if (error.status === 0) {\n    console.error('An error occurred:', error.error);\n  } else {\n    console.error(\n      `Backend returned code ${error.status}, body was: `, error.error);\n  }\n  return throwError(() => new Error('Something bad happened; please try again later.'));\n}\n\n\n  \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}